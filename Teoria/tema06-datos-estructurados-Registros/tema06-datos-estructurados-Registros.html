



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Tema 6: Datos estructurados: Registros - P1 Robótica</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#tema-6-tipos-de-datos-estructurados-registros" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="P1 Robótica" class="md-header-nav__button md-logo">
          
            <img src="../../imagenes/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              P1 Robótica
            </span>
            <span class="md-header-nav__topic">
              
                Tema 6: Datos estructurados: Registros
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="P1 Robótica" class="md-nav__button md-logo">
      
        <img src="../../imagenes/logo.png" width="48" height="48">
      
    </a>
    P1 Robótica
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked>
    
    <label class="md-nav__link" for="nav-1">
      Teoría
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Teoría
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tema00-descripcion-asignatura/tema00-descripcion-asignatura.html" title="Tema 0: Descripción de la asignatura" class="md-nav__link">
      Tema 0: Descripción de la asignatura
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tema01-introduccion-a-la-programacion/tema01-introduccion-a-la-programacion.html" title="Tema 1: Introducción a la programación" class="md-nav__link">
      Tema 1: Introducción a la programación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tema02-tipos-de-datos-simples/tema02-tipos-de-datos-simples.html" title="Tema 2: Tipos de datos simples" class="md-nav__link">
      Tema 2: Tipos de datos simples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tema03-sentencias-de-control/tema03-sentencias-de-control.html" title="Tema 3: Sentencias de control" class="md-nav__link">
      Tema 3: Sentencias de control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tema04-descomposicion-modular/tema04-descomposicion-modular.html" title="Tema 4: Descomposición modular" class="md-nav__link">
      Tema 4: Descomposición modular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tema05-datos-estructurados-Arrays/tema05-datos-estructurados-Arrays.html" title="Tema 5: Datos estructurados: Arrays" class="md-nav__link">
      Tema 5: Datos estructurados: Arrays
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Tema 6: Datos estructurados: Registros
      </label>
    
    <a href="tema06-datos-estructurados-Registros.html" title="Tema 6: Datos estructurados: Registros" class="md-nav__link md-nav__link--active">
      Tema 6: Datos estructurados: Registros
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-registros" title="1. Registros" class="md-nav__link">
    1. Registros
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-definicion-de-un-registro" title="1.1 Definición de un registro" class="md-nav__link">
    1.1 Definición de un registro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-operadores-para-manejo-de-registros" title="1.2 Operadores para manejo de registros" class="md-nav__link">
    1.2 Operadores para manejo de registros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-registros-y-funciones" title="1.3  Registros y funciones" class="md-nav__link">
    1.3  Registros y funciones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-estructuras-anidadas" title="1.4 Estructuras anidadas" class="md-nav__link">
    1.4 Estructuras anidadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-arrays-de-registros" title="1.5 Arrays de registros" class="md-nav__link">
    1.5 Arrays de registros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-propuestos" title="Ejercicios propuestos" class="md-nav__link">
    Ejercicios propuestos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-1_1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2_1" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3_1" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bibliografia" title="Bibliografía" class="md-nav__link">
    Bibliografía
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Prácticas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Prácticas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practicas/practica00/practica00.html" title="Práctica 0: Entorno Linux y herramientas" class="md-nav__link">
      Práctica 0: Entorno Linux y herramientas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practicas/practica01/practica01.html" title="Práctica 1: Tipos de datos simples" class="md-nav__link">
      Práctica 1: Tipos de datos simples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practicas/practica02/practica02.html" title="Práctica 2: Sentencias de selección" class="md-nav__link">
      Práctica 2: Sentencias de selección
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practicas/practica03/practica03.html" title="Práctica 3: Sentencias de iteración" class="md-nav__link">
      Práctica 3: Sentencias de iteración
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practicas/practica04/practica04.html" title="Práctica 4: Descomposición modular" class="md-nav__link">
      Práctica 4: Descomposición modular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practicas/practica05/practica05.html" title="Práctica 5: Datos estructurados: Arrays" class="md-nav__link">
      Práctica 5: Datos estructurados: Arrays
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-registros" title="1. Registros" class="md-nav__link">
    1. Registros
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-definicion-de-un-registro" title="1.1 Definición de un registro" class="md-nav__link">
    1.1 Definición de un registro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-operadores-para-manejo-de-registros" title="1.2 Operadores para manejo de registros" class="md-nav__link">
    1.2 Operadores para manejo de registros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-registros-y-funciones" title="1.3  Registros y funciones" class="md-nav__link">
    1.3  Registros y funciones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-estructuras-anidadas" title="1.4 Estructuras anidadas" class="md-nav__link">
    1.4 Estructuras anidadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-arrays-de-registros" title="1.5 Arrays de registros" class="md-nav__link">
    1.5 Arrays de registros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-propuestos" title="Ejercicios propuestos" class="md-nav__link">
    Ejercicios propuestos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-1_1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2_1" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3_1" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bibliografia" title="Bibliografía" class="md-nav__link">
    Bibliografía
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="tema-6-tipos-de-datos-estructurados-registros">Tema 6: Tipos de datos estructurados: Registros<a class="headerlink" href="#tema-6-tipos-de-datos-estructurados-registros" title="Permanent link">&para;</a></h1>
<h2 id="1-registros">1. Registros<a class="headerlink" href="#1-registros" title="Permanent link">&para;</a></h2>
<p>Los tipos de datos compuestos o estructurados, son tipos compuestos por otros tipos. Vimos que habían dos tipos:</p>
<ul>
<li>Array: Está compuesto por elementos del mismo tipo. Por ejemplo, un array de enteros, todos sus elementos son enteros.</li>
<li>Registro o estructura: Está compuesto por elementos heterogéneos, pueden tener distintos tipos.</li>
</ul>
<h4>Definición</h4>
<p>Un registro es un tipo de datos que permite agrupar bajo un mismo nombre elementos del mismo o de distinto tipo de datos, que se encuentran relacionados entre sí.</p>
<p>Cada elemento se denomina <strong>campo</strong> o <strong>miembro</strong> de la estructura. Un registro permite encapsular entidades donde cada campo representa los atributos o propiedades de dicha entidad.</p>
<p>Caraterísticas:</p>
<ul>
<li>Un registro o estructura es la manera que tenemos de encapsular variables de diferentes tipos bajo una única entidad: nos referimos a ellos con un identificador único.</li>
<li>Tienen la peculiaridad de que las variables que forman parte del registro estarán alineadas en memoria: eficiencia</li>
<li>En un registro se agrupan atributos de una entidad</li>
<li>Cada uno de los elementos de un registro se denomina <strong>campo</strong>. Para referirse a un determinado elemento de un registro se deberá utilizar el identificador del registro, seguido de un punto ‘.’ y del identificador del campo correspondiente</li>
</ul>
<blockquote>
<p>Persona:</p>
<ul>
<li>Nombre</li>
<li>Apellidos</li>
<li>NIF</li>
<li>edad</li>
<li>género</li>
</ul>
<p>Dirección:</p>
<ul>
<li>Calle</li>
<li>Número</li>
<li>CP</li>
<li>Población</li>
<li>Provincia</li>
</ul>
<p>Cliente:</p>
<ul>
<li>NumCliente</li>
<li>Persona</li>
<li>Dirección</li>
<li>Empresa
</li>
</ul>
</blockquote>
<p>Diferencias respecto a los arrays:</p>
<ul>
<li>Los elementos de un array son todos del mismo tipo, en una estructura no.</li>
<li>En un array se selecciona un elemento por su posición dentro del array, en una estructura cada elemento tiene su identificador</li>
</ul>
<h3 id="11-definicion-de-un-registro">1.1 Definición de un registro<a class="headerlink" href="#11-definicion-de-un-registro" title="Permanent link">&para;</a></h3>
<p>La sintaxis es:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>struct nombreRegistro {
   tipo-campo1 nombre-campo1
   tipo-campo2 nombre-campo2
   ...
};
</pre></div>
</td></tr></table>

<p>Pueden utilizarse arrays como campos. Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="n">CD</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">titulo</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">artista</span><span class="p">[</span><span class="mi">25</span><span class="p">];</span>
   <span class="kt">int</span> <span class="n">num_canciones</span><span class="p">;</span>
   <span class="kt">float</span> <span class="n">precio</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>

<p>Sintaxis utilizando <code>typedef</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>typedef struct {...} nombreRegistro;
</pre></div>
</td></tr></table>

<p>Dentro de las llaves escribiremos los campos que va a contener el registro.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">nombre</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">apellidos</span><span class="p">[</span><span class="mi">30</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">nif</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
   <span class="kt">int</span> <span class="n">edad</span><span class="p">;</span>
   <span class="kt">char</span> <span class="n">genero</span><span class="p">;</span>
<span class="p">}</span> <span class="n">TPersona</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="c1">// Declaración de variables de estructuras</span>
   <span class="k">struct</span> <span class="n">CD</span> <span class="n">cd1</span><span class="p">;</span>
   <span class="k">struct</span> <span class="n">CD</span> <span class="n">cd2</span><span class="p">;</span>

   <span class="c1">// Declaración de variables de estructuras definidas con typedef</span>
   <span class="n">TPersona</span> <span class="n">persona1</span><span class="p">;</span>

   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h4>Uso de los registros</h4>
<p>Con un registro se puede trabajar a dos niveles: con el registro completo y con sus campos.</p>
<p>Podemos utilizar la operación de asignación entre registros, pero no la de comparación. Es decir, podemos asignar a una variable de tipo <code>struct</code> el valor de otra del mismo tipo. También es posible pasar un registro como parámetro a una función y que una función devuelva un registro.</p>
<p>En el siguiente ejemplo, asignamos una estructura a otra:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">cd1</span> <span class="o">=</span> <span class="n">cd2</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<h4>Inicialización de registros</h4>
<p>Podemos inicializar los registros al definir las variables o dejarlos vacíos para manejarlos más adelante:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>   <span class="k">struct</span> <span class="n">CD</span> <span class="n">cd1</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">&quot;Wish&quot;</span><span class="p">,</span>      <span class="c1">// album</span>
      <span class="s">&quot;The Cure&quot;</span><span class="p">,</span>  <span class="c1">// artista</span>
      <span class="mi">7</span><span class="p">,</span>           <span class="c1">// num_canciones</span>
      <span class="mf">21.5</span>         <span class="c1">// precio</span>
   <span class="p">};</span>

   <span class="n">TPersona</span> <span class="n">persona1</span> <span class="o">=</span> <span class="p">{</span>   <span class="c1">// definido con typedef</span>
      <span class="s">&quot;Pepe&quot;</span><span class="p">,</span>
      <span class="s">&quot;García&quot;</span><span class="p">,</span>
      <span class="s">&quot;32112234z&quot;</span><span class="p">,</span>
      <span class="mi">55</span><span class="p">,</span>
      <span class="sc">&#39;V&#39;</span>
   <span class="p">};</span>
</pre></div>
</td></tr></table>

<h3 id="12-operadores-para-manejo-de-registros">1.2 Operadores para manejo de registros<a class="headerlink" href="#12-operadores-para-manejo-de-registros" title="Permanent link">&para;</a></h3>
<h4>El operador <code>.</code></h4>
<p>Para acceder a los campos de una variable de tipo registro utilizamos el operador punto <code>.</code>. Este operador proporciona el camino directo al campo correspondiente. Los datos deben ser del mismo tipo que el tipo declarado para ese campo.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">TPersona</span> <span class="n">persona2</span><span class="p">;</span>

<span class="n">strcpy</span><span class="p">(</span><span class="n">persona2</span><span class="p">.</span><span class="n">nombre</span><span class="p">,</span> <span class="s">&quot;María&quot;</span><span class="p">);</span>
<span class="n">strcpy</span><span class="p">(</span><span class="n">persona2</span><span class="p">.</span><span class="n">apellidos</span><span class="p">,</span> <span class="s">&quot;Sánchez&quot;</span><span class="p">);</span>
<span class="n">strcpy</span><span class="p">(</span><span class="n">persona2</span><span class="p">.</span><span class="n">nif</span><span class="p">,</span> <span class="s">&quot;11222433A&quot;</span><span class="p">);</span>
<span class="n">persona2</span><span class="p">.</span><span class="n">edad</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>
<span class="n">persona2</span><span class="p">.</span><span class="n">genero</span> <span class="o">=</span> <span class="sc">&#39;M&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<h4>El operador <code>-&gt;</code></h4>
<p>Para acceder a los campos de una variable de tipo puntero (lo veremos en el siguiente tema) a registro utilizamos el operador puntero <code>-&gt;</code>. Este operador indica que en la parte izquierda está la dirección de memoria de un registro, y la parte derecha los campos del mismo.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&lt;puntero_estructura&gt; -&gt; &lt;nombre_campo&gt; = datos;
</pre></div>
</td></tr></table>

<p>Es el caso, por ejemplo, de los registros pasados como parámetro por referencia a una función. La función recibe como argumento la dirección de memoria (puntero) del registro.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">void</span> <span class="nf">rellena</span> <span class="p">(</span><span class="n">TPersona</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">strcpy</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">nombre</span><span class="p">,</span> <span class="s">&quot;Pepe&quot;</span><span class="p">);</span>
    <span class="n">strcpy</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">apellidos</span><span class="p">,</span> <span class="s">&quot;Garcia&quot;</span><span class="p">);</span>
    <span class="n">p</span><span class="o">-&gt;</span><span class="n">edad</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="13-registros-y-funciones">1.3  Registros y funciones<a class="headerlink" href="#13-registros-y-funciones" title="Permanent link">&para;</a></h3>
<h4>Paso de registros como parámetros a funciones</h4>
<ul>
<li>
<p>De forma general:</p>
<ul>
<li>Paso por valor cuando se use la información del
registro sin modificarlo</li>
<li>Paso por referencia cuando modifiquemos algún
 campo del registro, pasando la dirección de memoria utilizando el operador <code>&amp;</code>.</li>
</ul>
</li>
<li>
<p>De forma excepcional, tendremos en cuenta que en algunos casos el tamaño del registro en memoria puede ser elevado, por lo que valoraremos en la implementación cuándo nos conviene pasarlo por valor o por referencia, independientemente de si se modifican o no sus campos.  </p>
</li>
</ul>
<h4>Funciones que devuelven registros</h4>
<p>Vamos a seguir la misma norma que cuando tratamos tipos de datos simples, es decir, cuando sólo se va a devolver un dato (en este caso un registro), se hará a través de <code>return</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span><span class="n">TPunto</span><span class="p">;</span>

<span class="c1">// prototipos de funciones</span>
<span class="n">TPunto</span> <span class="nf">leerPunto</span><span class="p">();</span>
<span class="kt">void</span> <span class="nf">imprimePunto</span><span class="p">(</span><span class="n">TPunto</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="n">TPunto</span><span class="o">*</span><span class="p">,</span> <span class="n">TPunto</span><span class="o">*</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">TPunto</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">;</span>

   <span class="n">p1</span> <span class="o">=</span> <span class="n">leerPunto</span><span class="p">();</span>
   <span class="n">p2</span> <span class="o">=</span> <span class="n">leerPunto</span><span class="p">();</span>

   <span class="n">imprimePunto</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
   <span class="n">imprimePunto</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>

   <span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p2</span><span class="p">);</span>

   <span class="n">imprimePunto</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
   <span class="n">imprimePunto</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>

   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">TPunto</span> <span class="nf">leerPunto</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">TPunto</span> <span class="n">p</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Coordenadas x y del punto:&quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">p</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">imprimePunto</span><span class="p">(</span><span class="n">TPunto</span> <span class="n">punto</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;[X:%d, Y:%d]</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">punto</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">punto</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="n">TPunto</span><span class="o">*</span> <span class="n">p1</span><span class="p">,</span> <span class="n">TPunto</span><span class="o">*</span> <span class="n">p2</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">TPunto</span> <span class="n">aux</span><span class="p">;</span>

   <span class="n">aux</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">p1</span><span class="o">-&gt;</span><span class="n">x</span><span class="p">;</span>
   <span class="n">aux</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">p1</span><span class="o">-&gt;</span><span class="n">y</span><span class="p">;</span>
   <span class="n">p1</span><span class="o">-&gt;</span><span class="n">x</span> <span class="o">=</span> <span class="n">p2</span><span class="o">-&gt;</span><span class="n">x</span><span class="p">;</span>
   <span class="n">p1</span><span class="o">-&gt;</span><span class="n">y</span> <span class="o">=</span> <span class="n">p2</span><span class="o">-&gt;</span><span class="n">y</span><span class="p">;</span>
   <span class="n">p2</span><span class="o">-&gt;</span><span class="n">x</span> <span class="o">=</span> <span class="n">aux</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
   <span class="n">p2</span><span class="o">-&gt;</span><span class="n">y</span> <span class="o">=</span> <span class="n">aux</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>La función <code>swap</code>también podría hacerse manejando los registros completos en lugar de campo a campo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="n">TPunto</span><span class="o">*</span> <span class="n">p1</span><span class="p">,</span> <span class="n">TPunto</span><span class="o">*</span> <span class="n">p2</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">TPunto</span> <span class="n">aux</span><span class="p">;</span>

   <span class="n">aux</span> <span class="o">=</span> <span class="o">*</span><span class="n">p1</span><span class="p">;</span>
   <span class="o">*</span><span class="n">p1</span> <span class="o">=</span> <span class="o">*</span><span class="n">p2</span><span class="p">;</span>
   <span class="o">*</span><span class="n">p2</span> <span class="o">=</span> <span class="n">aux</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="14-estructuras-anidadas">1.4 Estructuras anidadas<a class="headerlink" href="#14-estructuras-anidadas" title="Permanent link">&para;</a></h3>
<p>Un registro puede contener otros registros. Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">nombre</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">apellidos</span><span class="p">[</span><span class="mi">30</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">nif</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
   <span class="kt">int</span> <span class="n">edad</span><span class="p">;</span>
   <span class="kt">char</span> <span class="n">genero</span><span class="p">;</span>
<span class="p">}</span> <span class="n">TPersona</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span><span class="p">{</span>
   <span class="kt">int</span> <span class="n">codCliente</span><span class="p">;</span>
   <span class="n">TPersona</span> <span class="n">datosCliente</span><span class="p">;</span>
   <span class="kt">char</span> <span class="n">direccion</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">nombreEmpresa</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
<span class="p">}</span> <span class="n">TCliente</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
   <span class="n">TCliente</span> <span class="n">cli</span><span class="p">;</span>

   <span class="n">cli</span><span class="p">.</span><span class="n">codCliente</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
   <span class="n">strcpy</span><span class="p">(</span><span class="n">cli</span><span class="p">.</span><span class="n">direccion</span><span class="p">,</span> <span class="s">&quot;Avda Mediterraneo 45&quot;</span><span class="p">);</span>
   <span class="n">cli</span><span class="p">.</span><span class="n">datosCliente</span><span class="p">.</span><span class="n">edad</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
   <span class="n">strcpy</span><span class="p">(</span><span class="n">cli</span><span class="p">.</span><span class="n">datosCliente</span><span class="p">.</span><span class="n">nombre</span><span class="p">,</span> <span class="s">&quot;Juan&quot;</span><span class="p">);</span>

   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="15-arrays-de-registros">1.5 Arrays de registros<a class="headerlink" href="#15-arrays-de-registros" title="Permanent link">&para;</a></h3>
<p>Podemos definir arrays donde su tipo base sea un registro, es decir, cada elemento del vector es un registro, con memoria reservada para su uso. Ya que en los arrays sólo podemos almacenar diversos valores de un mismo tipo, los arrays de estructuras permiten almacenar diversos valores de diferentes tipos agrupados en registros.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">nombre</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
   <span class="kt">float</span> <span class="n">precio</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">stock</span><span class="p">;</span>
<span class="p">}</span> <span class="n">TProducto</span><span class="p">;</span>

<span class="n">TProducto</span> <span class="n">vectorProductos</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
</pre></div>
</td></tr></table>

<p>Para acceder a los campos de cada uno de los elementos, se recorre el array y se accede a cada elemento como lo hacemos con otros tipos de dato:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">strcpy</span><span class="p">(</span><span class="n">vectorProductos</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">nombre</span><span class="p">,</span> <span class="s">&quot;Libro Programación en C&quot;</span><span class="p">);</span>
<span class="n">vectorProductos</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">precio</span> <span class="o">=</span> <span class="mf">17.5</span>
<span class="n">vectorProductos</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">stock</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<hr />
<h3 id="ejercicio-1">Ejercicio 1<a class="headerlink" href="#ejercicio-1" title="Permanent link">&para;</a></h3>
<p>Define los tipos de datos necesarios que permitan almacenar los datos de 100 alumnos. De cada alumno se quiere almacenar su nombre, apellidos y dirección. Cada uno tiene 10 asignaturas compuestas de código de la asignatura y nota.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">//En primer lugar definimos las constantes necesarias.</span>

<span class="cp">#define TAMCAD 45</span>
<span class="cp">#define TAMASIG 3</span>
<span class="cp">#define NUMASIG 10</span>
<span class="cp">#define NUMALU 100</span>

<span class="c1">//Definimos las estructuras necesarias</span>
<span class="c1">//Cada alumno tiene 10 asignaturas compuesto de código de la asignatura y nota</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">codigoAsignatura</span><span class="p">[</span><span class="n">TAMASIG</span><span class="p">];</span>
   <span class="kt">float</span> <span class="n">nota</span><span class="p">;</span>
<span class="p">}</span><span class="n">TAsignatura</span><span class="p">;</span>

<span class="c1">//Estructura con la información de los alumnos</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">nombre</span><span class="p">[</span><span class="n">TAMCAD</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">apellidos</span><span class="p">[</span><span class="n">TAMCAD</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">direccion</span><span class="p">[</span><span class="n">TAMCAD</span><span class="p">];</span>
   <span class="n">TAsignatura</span> <span class="n">asig</span><span class="p">[</span><span class="n">NUMASIG</span><span class="p">];</span>
<span class="p">}</span><span class="n">TFichaAlumno</span><span class="p">;</span>

<span class="c1">//Array que contendrá los datos de todos los alumnos</span>
<span class="k">typedef</span> <span class="n">TFichaAlumno</span> <span class="n">TAlumnos</span> <span class="p">[</span><span class="n">NUMALU</span><span class="p">];</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-2">Ejercicio 2<a class="headerlink" href="#ejercicio-2" title="Permanent link">&para;</a></h3>
<p>Escribe un programa que guarde información de 30 alumnos. De cada alumno leeremos su número de expediente, nombre, fecha de nacimiento, fecha de ingreso y su nota media. El programa debe permitir dar de alta un alumno y mostrar todos los alumnos.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#define TAMCAD 45</span>
<span class="cp">#define NUMALU 30</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">dia</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">mes</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">anyo</span><span class="p">;</span>
<span class="p">}</span><span class="n">TFecha</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">exp</span><span class="p">;</span>
   <span class="kt">char</span> <span class="n">nombre</span><span class="p">[</span><span class="n">TAMCAD</span><span class="p">];</span>
   <span class="n">TFecha</span> <span class="n">fechaNac</span><span class="p">;</span>
   <span class="n">TFecha</span> <span class="n">fechaIng</span><span class="p">;</span>
   <span class="kt">float</span> <span class="n">notaMedia</span><span class="p">;</span>
<span class="p">}</span><span class="n">TFichaAlumno</span><span class="p">;</span>

<span class="c1">//Array de alumnos</span>
<span class="k">typedef</span> <span class="n">TFichaAlumno</span> <span class="n">TAlumnos</span><span class="p">[</span><span class="n">NUMALU</span><span class="p">];</span>

<span class="c1">//Prototipos funciones</span>
<span class="kt">void</span> <span class="nf">mostrarFecha</span><span class="p">(</span><span class="n">TFecha</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">mostrarAlumnos</span><span class="p">(</span><span class="n">TAlumnos</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">darDeAltaAlumno</span><span class="p">(</span><span class="n">TAlumnos</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">pedirFecha</span><span class="p">(</span><span class="n">TFecha</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">pedirOpcion</span><span class="p">();</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
   <span class="n">TAlumnos</span> <span class="n">alumnos</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">opcion</span><span class="p">,</span> <span class="n">numAlumnos</span><span class="p">;</span>
   <span class="n">numAlumnos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

   <span class="k">do</span><span class="p">{</span>
      <span class="n">opcion</span> <span class="o">=</span> <span class="n">pedirOpcion</span><span class="p">();</span>

      <span class="k">switch</span><span class="p">(</span><span class="n">opcion</span><span class="p">){</span>
         <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
            <span class="k">if</span><span class="p">(</span><span class="n">numAlumnos</span> <span class="o">&lt;</span> <span class="n">NUMALU</span><span class="p">)</span>
               <span class="n">darDeAltaAlumno</span><span class="p">(</span><span class="n">alumnos</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">numAlumnos</span><span class="p">);</span>
            <span class="k">else</span>
               <span class="n">printf</span><span class="p">(</span><span class="s">&quot;No es posible introducir más alumnos&quot;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
         <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
            <span class="n">mostrarAlumnos</span><span class="p">(</span><span class="n">alumnos</span><span class="p">,</span> <span class="n">numAlumnos</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
         <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Terminado</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
         <span class="k">default</span><span class="o">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Opción incorrecta</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
      <span class="p">}</span>
   <span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="n">opcion</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">);</span>

   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">pedirOpcion</span><span class="p">()</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">opcion</span><span class="p">;</span>

   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;******Gestión de alumnos******</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Opciones disponibles: </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;1. Dar de alta un alumno</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;2. Mostrar listado alumnos</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;3. Salir</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Seleccione una opción: &quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">opcion</span><span class="p">);</span>

   <span class="k">return</span> <span class="n">opcion</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//Muestra la fecha separada por /</span>
<span class="kt">void</span> <span class="nf">mostrarFecha</span><span class="p">(</span><span class="n">TFecha</span> <span class="n">fecha</span><span class="p">){</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d / %d / %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">fecha</span><span class="p">.</span><span class="n">dia</span><span class="p">,</span> <span class="n">fecha</span><span class="p">.</span><span class="n">mes</span><span class="p">,</span><span class="n">fecha</span><span class="p">.</span><span class="n">anyo</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">mostrarAlumnos</span><span class="p">(</span><span class="n">TAlumnos</span> <span class="n">alumnos</span><span class="p">,</span> <span class="kt">int</span> <span class="n">numAlumnos</span><span class="p">)</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

   <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">numAlumnos</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Alumno: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">exp</span><span class="p">);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Nombre: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">nombre</span><span class="p">);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Fecha de nacimiento: &quot;</span><span class="p">);</span>
      <span class="n">mostrarFecha</span><span class="p">(</span><span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">fechaNac</span><span class="p">);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Fecha de ingreso: &quot;</span><span class="p">);</span>
      <span class="n">mostrarFecha</span><span class="p">(</span><span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">fechaIng</span><span class="p">);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Nota media: %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">notaMedia</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Solicita la fecha</span>
<span class="kt">void</span> <span class="nf">pedirFecha</span><span class="p">(</span><span class="n">TFecha</span> <span class="o">*</span><span class="n">fecha</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">Introduce día:&quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fecha</span><span class="o">-&gt;</span><span class="n">dia</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">Introduce mes: &quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fecha</span><span class="o">-&gt;</span><span class="n">mes</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">Introduce año: &quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fecha</span><span class="o">-&gt;</span><span class="n">anyo</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//Solicita los datos de los alumnos</span>
<span class="kt">void</span> <span class="nf">darDeAltaAlumno</span><span class="p">(</span><span class="n">TAlumnos</span> <span class="n">alumnos</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">numAlumnos</span><span class="p">)</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

   <span class="n">i</span> <span class="o">=</span> <span class="o">*</span><span class="n">numAlumnos</span><span class="p">;</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Introduce el número de expediente: &quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">exp</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Introduce el nombre: &quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">nombre</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Fecha de nacimiento:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">pedirFecha</span><span class="p">(</span><span class="o">&amp;</span><span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">fechaNac</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Fecha de ingreso:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">pedirFecha</span><span class="p">(</span><span class="o">&amp;</span><span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">fechaIng</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Introduce la nota media: &quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">alumnos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">notaMedia</span><span class="p">);</span>
   <span class="p">(</span><span class="o">*</span><span class="n">numAlumnos</span><span class="p">)</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-3">Ejercicio 3<a class="headerlink" href="#ejercicio-3" title="Permanent link">&para;</a></h3>
<p>Escribe los tipos de datos adecuados para almacenar triángulos. De cada triángulo se quiere guardar los tres puntos de sus vértices, su área y su perímetro.
Se pide leer un triángulo por teclado: únicamente se leerán sus tres puntos. Su área y su perímetro se calcularán automáticamente después de la lectura.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;math.h&gt;</span><span class="cp"></span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span><span class="n">TPunto</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="n">TPunto</span> <span class="n">p1</span><span class="p">;</span>
   <span class="n">TPunto</span> <span class="n">p2</span><span class="p">;</span>
   <span class="n">TPunto</span> <span class="n">p3</span><span class="p">;</span>
   <span class="kt">float</span> <span class="n">area</span><span class="p">;</span>
   <span class="kt">float</span> <span class="n">perimetro</span><span class="p">;</span>
<span class="p">}</span><span class="n">TTriangulo</span><span class="p">;</span>

<span class="n">TTriangulo</span> <span class="nf">leerTriangulo</span><span class="p">();</span>
<span class="kt">void</span> <span class="nf">calculaLados</span><span class="p">(</span><span class="n">TTriangulo</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">calculaPerimetroYArea</span><span class="p">(</span><span class="n">TTriangulo</span> <span class="o">*</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">TTriangulo</span> <span class="n">triangulo</span><span class="p">;</span>

   <span class="n">triangulo</span> <span class="o">=</span> <span class="n">leerTriangulo</span><span class="p">();</span>

   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;El perímetro del triángulo es: %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">triangulo</span><span class="p">.</span><span class="n">perimetro</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;El área del triángulo es: %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">triangulo</span><span class="p">.</span><span class="n">area</span><span class="p">);</span>

   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">TTriangulo</span> <span class="nf">leerTriangulo</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">TTriangulo</span> <span class="n">triangulo</span><span class="p">;</span>

   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Introduzca las coordenadas del punto 1:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="o">&amp;</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Introduzca las coordenadas del punto 2:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="o">&amp;</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Introduzca las coordenadas del punto 3:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p3</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="o">&amp;</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p3</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

   <span class="n">calculaPerimetroYArea</span><span class="p">(</span><span class="o">&amp;</span><span class="n">triangulo</span><span class="p">);</span>

   <span class="k">return</span> <span class="n">triangulo</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">calculaPerimetroYArea</span><span class="p">(</span><span class="n">TTriangulo</span> <span class="o">*</span><span class="n">triangulo</span><span class="p">)</span> <span class="p">{</span>
   <span class="kt">float</span> <span class="n">s</span><span class="p">,</span> <span class="n">lado1</span><span class="p">,</span> <span class="n">lado2</span><span class="p">,</span> <span class="n">lado3</span><span class="p">;</span>

   <span class="n">calculaLados</span><span class="p">(</span><span class="o">*</span><span class="n">triangulo</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lado1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lado2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lado3</span><span class="p">);</span>

   <span class="n">triangulo</span><span class="o">-&gt;</span><span class="n">perimetro</span> <span class="o">=</span> <span class="n">lado1</span> <span class="o">+</span> <span class="n">lado2</span> <span class="o">+</span> <span class="n">lado3</span><span class="p">;</span>

   <span class="c1">// Fórmula de Herón</span>
   <span class="n">s</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">triangulo</span><span class="o">-&gt;</span><span class="n">perimetro</span><span class="p">;</span>
   <span class="n">triangulo</span><span class="o">-&gt;</span><span class="n">area</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">s</span> <span class="o">*</span>
                         <span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">lado1</span><span class="p">)</span> <span class="o">*</span>
                         <span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">lado2</span><span class="p">)</span> <span class="o">*</span>
                         <span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">lado3</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">calculaLados</span><span class="p">(</span><span class="n">TTriangulo</span> <span class="n">triangulo</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="n">lado1</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="n">lado2</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="n">lado3</span><span class="p">)</span> <span class="p">{</span>
   <span class="o">*</span><span class="n">lado1</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">pow</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">triangulo</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span>
                 <span class="n">pow</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">triangulo</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
   <span class="o">*</span><span class="n">lado2</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">pow</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">triangulo</span><span class="p">.</span><span class="n">p3</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span>
                 <span class="n">pow</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">triangulo</span><span class="p">.</span><span class="n">p3</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
   <span class="o">*</span><span class="n">lado3</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">pow</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p3</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">triangulo</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span>
                 <span class="n">pow</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">p3</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">triangulo</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h2 id="ejercicios-propuestos">Ejercicios propuestos<a class="headerlink" href="#ejercicios-propuestos" title="Permanent link">&para;</a></h2>
<h3 id="ejercicio-1_1">Ejercicio 1<a class="headerlink" href="#ejercicio-1_1" title="Permanent link">&para;</a></h3>
<p>Vamos a partir del ejercicio de los triángulos. Queremos almacenar 10 triángulos y ordenarlos de menor a mayor perímetro. Muéstralos ordenados por pantalla, puedes usar el algoritmo de ordenación que prefieras. Puedes hacer una función que imprima los datos de un triángulo por pantalla.</p>
<h3 id="ejercicio-2_1">Ejercicio 2<a class="headerlink" href="#ejercicio-2_1" title="Permanent link">&para;</a></h3>
<p>Dados los siguientes tipos de datos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span><span class="n">TPunto</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="n">TPunto</span> <span class="n">p1</span><span class="p">;</span>
   <span class="n">TPunto</span> <span class="n">p2</span><span class="p">;</span>
<span class="p">}</span><span class="n">TSegmento</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>y una matriz bidimensional de <code>TAMx4</code> numérica de este estilo. Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#define TAM 5</span>
<span class="kt">int</span> <span class="n">matriz</span><span class="p">[</span><span class="n">TAM</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span>
                      <span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">},</span>
                      <span class="p">{</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">},</span>
                      <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">},</span>
                      <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">}};</span>
</pre></div>
</td></tr></table>

<ul>
<li>
<p>Implementa la función <code>convertir</code> que reciba una matriz <code>TAMx4</code> numérica y devuelva un array unidimensional con <code>TAM</code> elementos de tipo <code>TSegmento</code>, donde cada segmento se obtiene de cada una de las filas de la matriz original. Por ejemplo, la primera fila daría lugar al segmento:</p>
<p><img src="imagenes/segmento.png" width="130px"/></p>
</li>
<li>
<p>Queremos trasladar todos los segmentos del array. El punto inicial de cada segmento se trasladará sumándole un valor a sus dos componentes y el punto final lo hará con otro valor, tal y como se muestra en el dibujo. Implementa las funciones necesarias.</p>
<p><img src="imagenes/segmento2.png" width="275px"/></p>
</li>
</ul>
<h3 id="ejercicio-3_1">Ejercicio 3<a class="headerlink" href="#ejercicio-3_1" title="Permanent link">&para;</a></h3>
<p>Dada la definición de los siguientes tipos de datos, constantes y la función <code>main()</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#define TAMCAD 45</span>
<span class="cp">#define TAMASIG 3</span>
<span class="cp">#define NUMASIG 10</span>
<span class="cp">#define NUMALU 100</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">codigoAsignatura</span><span class="p">[</span><span class="n">TAMASIG</span><span class="p">];</span>
   <span class="kt">float</span> <span class="n">nota</span><span class="p">;</span>
<span class="p">}</span><span class="n">TAsignatura</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">nombre</span><span class="p">[</span><span class="n">TAMCAD</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">apellidos</span><span class="p">[</span><span class="n">TAMCAD</span><span class="p">];</span>
   <span class="kt">char</span> <span class="n">direccion</span><span class="p">[</span><span class="n">TAMCAD</span><span class="p">];</span>
   <span class="n">TAsignatura</span> <span class="n">asig</span><span class="p">[</span><span class="n">NUMASIG</span><span class="p">];</span>
<span class="p">}</span><span class="n">TFichaAlumno</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">TFichaAlumno</span> <span class="n">TAlumnos</span> <span class="p">[</span><span class="n">NUMALU</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">TAlumnos</span> <span class="n">alumnos</span><span class="p">;</span>
     <span class="n">TFichaAlumno</span> <span class="n">fichaAlumno</span><span class="p">;</span>
     <span class="n">TAsignatura</span> <span class="n">asignatura</span><span class="p">;</span>
     <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>

     <span class="n">RellenaDatos</span><span class="p">(</span><span class="n">alumnos</span><span class="p">);</span>

      <span class="c1">/// Código ejercicio 3a</span>
      <span class="c1">/// Código ejercicio 3b</span>
      <span class="c1">/// Código ejercicio 3d</span>

     <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Responde a las siguientes cuestiones, suponiendo que la función <code>RellenaDatos()</code> ya está definida y se encarga de almacenar en la estructura de datos correspondiente la información de todos los alumnos (un total de <code>NUMALU</code>) y de todas las asignaturas de cada alumno (todos están matriculados del mismo número de asignaturas <code>NUMASIG</code>):</p>
<p>a. Escribe el código que permita mostrar por pantalla los apellidos de todos los alumnos cuyo nombre sea "Carlos" o "Eva". No es necesario que definas una función. Puedes utilizar la función de librería <code>strcmp</code>.</p>
<p>b. Escribe el código que permita actualizar la nota de todas las asignaturas de todos los alumnos con el valor <code>5.0</code>. No es necesario que definas una función.</p>
<p>c. Define la función con el siguiente prototipo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">float</span> <span class="nf">NotaAlumno</span><span class="p">(</span><span class="n">TFichaAlumno</span><span class="p">,</span> <span class="kt">char</span><span class="p">[]);</span>
</pre></div>
</td></tr></table>

<p>que debe devolver la nota del alumno en la asignatura cuyo código se especifica en el segundo argumento. Si el alumno no tiene esa asignatura, la función devolverá <code>-1.0</code>. Puedes utilizar la función de librería <code>strcmp</code>.</p>
<p>d. Escribe el código que permita mostrar por pantalla el nombre, apellidos y la nota de todos los alumnos en la asignatura "P1". Si el alumno no tiene nota en la asignatura, no debe aparecer en el listado. No es necesario que definas una función y puedes declarar alguna nueva variable si lo consideras necesario. Debes utilizar la función del apartado anterior.</p>
<h2 id="bibliografia">Bibliografía<a class="headerlink" href="#bibliografia" title="Permanent link">&para;</a></h2>
<ul>
<li>Capítulos 11.1 a 11.7 de "Programación en C, metodología, algoritmos y estructuras de datos", Luis Joyanes, Ignacio Zahonero</li>
</ul>
<hr />
<p>Programación 1, Grado de Robótica, curso 2019-20<br />
© Departamento Ciencia de la Computación e Inteligencia Artificial, Universidad de Alicante<br />
Cristina Pomares Puig</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../tema05-datos-estructurados-Arrays/tema05-datos-estructurados-Arrays.html" title="Tema 5: Datos estructurados: Arrays" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Tema 5: Datos estructurados: Arrays
              </span>
            </div>
          </a>
        
        
          <a href="../../Practicas/practica00/practica00.html" title="Práctica 0: Entorno Linux y herramientas" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Práctica 0: Entorno Linux y herramientas
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>