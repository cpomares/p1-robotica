



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Práctica 6: Datos estructurados: Registros - P1 Robótica</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#practica-6-datos-estructurados-registros" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="P1 Robótica" class="md-header-nav__button md-logo">
          
            <img src="../../imagenes/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              P1 Robótica
            </span>
            <span class="md-header-nav__topic">
              
                Práctica 6: Datos estructurados: Registros
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="P1 Robótica" class="md-nav__button md-logo">
      
        <img src="../../imagenes/logo.png" width="48" height="48">
      
    </a>
    P1 Robótica
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Teoría
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Teoría
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Teoria/tema00-descripcion-asignatura/tema00-descripcion-asignatura.html" title="Tema 0: Descripción de la asignatura" class="md-nav__link">
      Tema 0: Descripción de la asignatura
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Teoria/tema01-introduccion-a-la-programacion/tema01-introduccion-a-la-programacion.html" title="Tema 1: Introducción a la programación" class="md-nav__link">
      Tema 1: Introducción a la programación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Teoria/tema02-tipos-de-datos-simples/tema02-tipos-de-datos-simples.html" title="Tema 2: Tipos de datos simples" class="md-nav__link">
      Tema 2: Tipos de datos simples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Teoria/tema03-sentencias-de-control/tema03-sentencias-de-control.html" title="Tema 3: Sentencias de control" class="md-nav__link">
      Tema 3: Sentencias de control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Teoria/tema04-descomposicion-modular/tema04-descomposicion-modular.html" title="Tema 4: Descomposición modular" class="md-nav__link">
      Tema 4: Descomposición modular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Teoria/tema05-datos-estructurados-Arrays/tema05-datos-estructurados-Arrays.html" title="Tema 5: Datos estructurados: Arrays" class="md-nav__link">
      Tema 5: Datos estructurados: Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Teoria/tema06-datos-estructurados-Registros/tema06-datos-estructurados-Registros.html" title="Tema 6: Datos estructurados: Registros" class="md-nav__link">
      Tema 6: Datos estructurados: Registros
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Prácticas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Prácticas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../practica00/practica00.html" title="Práctica 0: Entorno Linux y herramientas" class="md-nav__link">
      Práctica 0: Entorno Linux y herramientas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica01/practica01.html" title="Práctica 1: Tipos de datos simples" class="md-nav__link">
      Práctica 1: Tipos de datos simples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica02/practica02.html" title="Práctica 2: Sentencias de selección" class="md-nav__link">
      Práctica 2: Sentencias de selección
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica03/practica03.html" title="Práctica 3: Sentencias de iteración" class="md-nav__link">
      Práctica 3: Sentencias de iteración
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica04/practica04.html" title="Práctica 4: Descomposición modular" class="md-nav__link">
      Práctica 4: Descomposición modular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica05/practica05.html" title="Práctica 5: Datos estructurados: Arrays" class="md-nav__link">
      Práctica 5: Datos estructurados: Arrays
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="practica-6-datos-estructurados-registros">Práctica 6: Datos estructurados: Registros<a class="headerlink" href="#practica-6-datos-estructurados-registros" title="Permanent link">&para;</a></h1>
<p><strong>Duración</strong>: 2 semanas</p>
<p>Para la realización de esta práctica vamos a partir del programa de la sopa de letras de la práctica anterior (puedes utilizar como punto de partida tu solución o la publicada por los profesores).</p>
<ul>
<li>Debes ampliar las direcciones para ocultar la palabra a las 8 posibles horizontales, verticales y diagonales.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span><span class="n">IZQUIERDA</span><span class="p">,</span> <span class="n">DERECHA</span><span class="p">,</span> <span class="n">ARRIBA</span><span class="p">,</span> <span class="n">ABAJO</span><span class="p">,</span> <span class="n">IZQ_ARRIBA</span><span class="p">,</span> <span class="n">DER_ARRIBA</span><span class="p">,</span> <span class="n">IZQ_ABAJO</span><span class="p">,</span> <span class="n">DER_ABAJO</span><span class="p">}</span> <span class="n">TDireccion</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<ul>
<li>Al ejecutar el programa, se pasará desde línea de comandos un máximo de 5 palabras a ocultar. Las palabras que no quepan en la sopa de letras, se descartarán. Si hay más de 5 palabras válidas, se descartarán las restantes. </li>
<li>Se deben ocultar las palabras leídas en la sopa de letras. No hace falta tener en cuenta posibles solapes entre ellas. </li>
<li>Se pedirán desde teclado las palabras que ha descubierto el usuario, restringiendo el tiempo a 30 segundos, a partir del cual no se podrá introducir ninguna palabra más. </li>
<li>A continuación se mostrará la solución y las palabras que ha acertado el usuario.</li>
</ul>
<p>Hay que usar las siguientes definiciones, aparte de las de la práctica anterior:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">fila</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">columna</span><span class="p">;</span>
<span class="p">}</span> <span class="n">TPosicion</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">TCadena</span>   <span class="n">palabra</span><span class="p">;</span>
    <span class="n">TPosicion</span>  <span class="n">posicion</span><span class="p">;</span>
    <span class="n">TDireccion</span> <span class="n">direccion</span><span class="p">;</span>
<span class="p">}</span> <span class="n">TPalabraSopaLetras</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">TPalabraSopaLetras</span> <span class="n">TPalabras</span><span class="p">[</span><span class="n">MAX_PALABRAS</span><span class="p">];</span>
</pre></div>
</td></tr></table>

<p><strong>Observación</strong>:
Es posible que las palabras a ocultar en la sopa de letras se superpongan unas con otras. No lo vamos a tener en cuenta. En el ejemplo 1 no se superponen las palabras, pero en el ejemplo 2 puedes comprobar que después de escribir en la sopa de letras la palabra “francia”, se ha escrito la palabra “suecia”, haciendo desaparecer la primera de ellas.</p>
<p><strong>Ayuda implementación</strong>: Para calcular cuánto tiempo ha transcurrido entre dos instantes de tiempo determinados, utiliza lo siguiente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">time_t</span>  <span class="n">hora_inicio</span><span class="p">,</span> <span class="n">hora_fin</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">tiempo_transcurrido</span><span class="p">;</span>

<span class="n">hora_inicio</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>  <span class="c1">// nos devuelve la hora actual</span>

<span class="p">.</span> <span class="p">.</span> <span class="p">.</span>  <span class="c1">// sentencias de las que mediremos su tiempo de ejecución</span>

<span class="n">hora_fin</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>

<span class="c1">// calcular los segundos transcurridos entre hora inicio y hora fin</span>
<span class="n">tiempo_transcurrido</span> <span class="o">=</span> <span class="n">difftime</span><span class="p">(</span><span class="n">hora_fin</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="p">);</span> 
</pre></div>
</td></tr></table>

<p><strong>Ejemplo 1 de ejecución</strong>: </p>
<p>Se indican 4 palabras a ocultar, de las cuales una se descarta porque no cabe en la sopa de letras. Después se introducen por teclado 2 palabras encontradas y excedemos el tiempo límite, por lo que no se pueden introducir mas palabras. Las 2 palabras encontradas son respuestas correctas.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ ./programa portugal liechtenstein francia italia

SOPA DE LETRAS

q i c a d w d z j j 
l t p p y v z j q z 
a a f l w f j z c i 
g l a i c n a r f y 
u i n t q f w r g x 
t a j z m s p t x f 
r h v x x g x l g k 
o y q l c w k a b s 
p d h p n w g x e b 
q i z e f m q p j p 

Dispones de 30 segundos para indicar las palabras encontradas...

Introduce una palabra encontrada: portugal
Introduce su posicion inicial (fila columna): 8 0
Introduce dirección
4-IZQ_ARRIBA        2-ARRIBA        5-DER_ARRIBA
0-IZQUIERDA                 1-DERECHA
6-IZQ_ABAJO     3-ABAJO     7-DER_ABAJO ...:2

Consumidos 21 segundos

¿quieres introducir otra palabra (s/n): s

Introduce una palabra encontrada: italia
Introduce su posicion inicial (fila columna): 0 1
Introduce dirección
4-IZQ_ARRIBA        2-ARRIBA        5-DER_ARRIBA
0-IZQUIERDA                 1-DERECHA
6-IZQ_ABAJO     3-ABAJO     7-DER_ABAJO ...:3

Consumidos 36 segundos

Excedido el tiempo límite para responder


Las palabras ocultas son:

portugal en posición inicial (8,0) y dirección ARRIBA
francia en posición inicial (3,8) y dirección IZQUIERDA
italia en posición inicial (0,1) y dirección ABAJO


Las palabras acertadas son:
portugal
italia
</pre></div>
</td></tr></table>

<p><strong>Ejemplo 2 de ejecución</strong>: </p>
<p>Se indican 6 palabras válidas a ocultar y la última se descarta por exceder el límite máximo de palabras. Sólo se introduce por teclado una palabra encontrada, sin consumir el tiempo máximo. La respuesta no es correcta porque la dirección está equivocada.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ ./programa portugal francia italia suiza suecia noruega

SOPA DE LETRAS

n y w p x n z x o i 
o a z i u s z s r y 
l f b n e d m v p p 
k a i a n a r f o c 
c w g c i y e f r a 
h d w u z c o y i o 
t k s n t r e l q i 
d j g k s r a u l u 
q z m z f t o u s e 
i y n z i y b p x v 


Dispones de 30 segundos para indicar las palabras encontradas...

Introduce una palabra encontrada: suiza
Introduce su posicion inicial (fila columna): 1 5
Introduce dirección
4-IZQ_ARRIBA        2-ARRIBA        5-DER_ARRIBA
0-IZQUIERDA                 1-DERECHA
6-IZQ_ABAJO     3-ABAJO     7-DER_ABAJO ...:1

Consumidos 16 segundos


¿quieres introducir otra palabra (s/n): n

Consumidos 16 segundos


Las palabras ocultas son:

portugal en posición inicial (9,7) y dirección IZQUIERDA-ARRIBA
francia en posición inicial (3,7) y dirección IZQUIERDA
italia en posición inicial (9,4) y dirección DERECHA-ARRIBA
suiza en posición inicial (1,5) y dirección IZQUIERDA
suecia en posición inicial (8,8) y dirección IZQUIERDA-ARRIBA

No has encontrado ninguna palabra
</pre></div>
</td></tr></table>

<hr />
<p>Programación 1, Grado de Robótica, curso 2020-21<br />
© Departamento Ciencia de la Computación e Inteligencia Artificial, Universidad de Alicante<br />
Antonio Botía, Cristina Pomares</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>